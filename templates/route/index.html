<<<<<<< HEAD
{% extends "route/base.html" %} 

{% block extra_css %}
<link rel="stylesheet" href="{{ STATIC_URL }}css/route/map.css">
{% endblock extra_css %}
=======
{% extends "index_with_footer.html" %} 

{% block title %}Sample Route{% endblock title %}
>>>>>>> 56a115a4242c46b2cc22f58b06383aa337890c16

{% block extra_css_top %}
  <link rel="stylesheet" href="{{ STATIC_URL }}css/route.css">
{% endblock extra_css_top %}

{% block extra_js_top %}
  <script type="text/javascript">

   var map;
   var marker;
   var routes = [];
   var dir = MQ.routing.directions();
   var points = [];

<<<<<<< HEAD
    function onMapDblClick(e) {
     // alert("You clicked the map at " + e.latlng);
      //marker = L.marker(e.latlng, {draggable:'true'} ).addTo(map);
      //marker.on('click', onMarkerClick);
      alert('w');
      var newlatlng = [{key:"lat", value: e.latlng.lat },{key:"lng", value: e.latlng.lng}];

      for (i in newlatlng) {
        alert("Name: " + newlatlng[i].key.toString() + " Value: " + newlatlng[i].value.toString());
      }
    }

    function addNewRoute(lat,lng){
      points.push([lat,lng]);
    }

    
   $(document).ready(function() {

     points.push([7.09359 ,125.60841]);
     points.push([7.16356,125.60845]);
     points.push([7.17356,125.60945]);
     

     getMap();
     updateRoutes();
     MQA.withModule('largezoom','viewoptions','geolocationcontrol','insetmapcontrol','mousewheel', function() {
           map.addControl(
             new MQA.LargeZoom(),
             new MQA.MapCornerPlacement(MQA.MapCorner.TOP_LEFT, new MQA.Size(5,5))
           );
         
          /* var options={
             size: { width: 150, height: 125 },
             zoom: 3,
             mapType: 'osmsat',
             minimized: false
           };
         
           map.addControl(
             new MQA.InsetMapControl(options),
             new MQA.MapCornerPlacement(MQA.MapCorner.BOTTOM_RIGHT)
           );*/
         
           map.enableMouseWheelZoom();
         });
    
     });

     function updateRoutes(){
      var locations = new Array(points.length);
       for(i = 0; i <points.length ; i++){
            locations.push({latLng: {lat: points[i][0], lng: points[i][1]}})
        }
        MQA.withModule('directions', function() {
        map.addRoute(locations, {ribbonOptions:{draggable:true, draggablepoi:true}});
       });
    }
    
     function getMap() {
        var options={
           elt: document.getElementById('map'),        
           zoom: 13,                              
           latLng: {lat:7.06359, lng: 125.60841},   
           mtype: 'osm',                             
           bestFitMargin: 0,             
           zoomOnDoubleClick: false                   
         };
        
        window.map = new MQA.TileMap(options); 
     }
   

    

 </script>
{% endblock extra_js %}


=======
      //map.on('click', function(e) {
      //alert(e.latlng);
      //});
    });
 </script>
{% endblock extra_js_top %}

{% block header_items_left %}
<li class="active"><a href="#">Map</a></li>
<li><a href="#">Routes</a></li>
<li><a href="#">About</a></li>
{% endblock header_items_left %}

{% block header_items_right %}
<form class="navbar-form navbar-right" role="search">
  <div class="form-group">
    <input type="text" class="form-control" placeholder="Search">
  </div>
</form>
{% endblock header_items_right %}

{% block sub_header_title %}
Map
{% endblock sub_header_title %}

{% block main %}
  <div id="map"></div>
{% endblock main %}
>>>>>>> 56a115a4242c46b2cc22f58b06383aa337890c16
